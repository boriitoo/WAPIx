<div class="max-w-md mx-auto">
  <div class="bg-slate-800 rounded-lg border border-slate-700 p-8">
    <h2 class="text-2xl font-bold text-white mb-6">Create New Session</h2>

    <form id="createSessionForm" class="space-y-4">
      <div>
        <label
          for="sessionName"
          class="block text-sm font-medium text-slate-300 mb-2"
        >
          Session Name
        </label>
        <input
          type="text"
          id="sessionName"
          name="sessionName"
          placeholder="e.g., default, business, support"
          required
          class="w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-green-500 focus:ring-1 focus:ring-green-500"
        />
        <p class="text-xs text-slate-400 mt-1">A unique identifier for this
          session</p>
      </div>

      <div>
        <label
          for="webhookUrl"
          class="block text-sm font-medium text-slate-300 mb-2"
        >
          Webhook URL
        </label>
        <input
          type="url"
          id="webhookUrl"
          name="webhookUrl"
          placeholder="https://webhook.site/your-unique-id"
          required
          class="w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-green-500 focus:ring-1 focus:ring-green-500"
        />
        <p class="text-xs text-slate-400 mt-1">Where session events will be sent</p>
      </div>

      <button
        type="submit"
        class="w-full mt-6 px-4 py-2 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg transition"
      >
        Create Session
      </button>
    </form>

    <div
      id="errorMessage"
      class="mt-4 p-3 bg-red-900 border border-red-700 rounded-lg text-red-200 hidden"
    ></div>
    <div
      id="successMessage"
      class="mt-4 p-3 bg-green-900 border border-green-700 rounded-lg text-green-200 hidden"
    ></div>
  </div>
</div>

<script>
  document.getElementById('createSessionForm').addEventListener('submit', async
  (e) => { e.preventDefault(); const sessionName =
  document.getElementById('sessionName').value; const webhookUrl =
  document.getElementById('webhookUrl').value; const errorDiv =
  document.getElementById('errorMessage'); const successDiv =
  document.getElementById('successMessage'); errorDiv.classList.add('hidden');
  successDiv.classList.add('hidden'); try { const response = await
  fetch('/api/sessions', { method: 'POST', headers: { 'Content-Type':
  'application/json', }, body: JSON.stringify({ sessionName, webhookUrl, }), });
  if (!response.ok) { throw new Error('Failed to create session'); } const data
  = await response.json(); successDiv.textContent = 'Session created
  successfully! Redirecting...'; successDiv.classList.remove('hidden');
  setTimeout(() => { window.location.href = `/sessions/${sessionName}/qr`; },
  1500); } catch (error) { errorDiv.textContent = error.message || 'An error
  occurred while creating the session'; errorDiv.classList.remove('hidden'); }
  });
</script>